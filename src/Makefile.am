# COPT = -O2 -fPIC
# CWARNS = -Wall
# CFLAGS = $(CWARNS) $(COPT) -I./include
# OS_NAME=$(shell uname -s)
# MH_NAME=$(shell uname -m)
# LDFLAGS=-ldl
# ifeq ($(OS_NAME), Darwin)
# LDFLAGS+=-bundle -undefined dynamic_lookup -framework CoreServices
# ifeq ($(MH_NAME), x86_64)
# endif
# else
# LDFLAGS+=-shared -lrt
# endif
# SRCS := upoll.c
# OBJS := $(patsubst %.c,%.o,$(SRCS))
# all: $(OBJS) ./libup.so
# ./libup.so: $(OBJS)
# 	$(CC) $(COPT) upoll.c $(LIBS) -o ./libup.so $(LDFLAGS)
# $(OBJS):
# 	$(CC) -c $(CFLAGS) $(SRCS)
# clean:
# 	rm -f *.o *.so
# .PHONY: all clean

nobase_include_HEADERS = up.h
lib_LTLIBRARIES = libup.la
libup_la_SOURCES = upoll.c upoll.h
#libup_la_LDFLAGS = -bundle  -undefined dynamic_lookup -framework CoreServices
#PTZ161027 ? libtool:   error: can't build x86_64-unknown-cygwin shared library unless -no-undefined is specified
libup_la_LDFLAGS = -no-undefined
libup_la_LIBADD  = -lrt
